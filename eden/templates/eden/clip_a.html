{% extends "eden/base_clip.html" %}
{% load static %}

{% block title %}{{ clip.name }}{% endblock %}

{% block content %}
  <div class="video-editor-container">
    <h1 class="main-title">ðŸŽ¥ {{ clip.name }}</h1>

    <div class="video-player">
      <video id="clipA"
             class="clip-video"
             controls
             data-choices-selector="#choices"
             data-choices-show-time="{{ clip.prompt_time|default:29 }}"
             data-audio-play-time="33"
             data-audio-prompt-selector="#voicePrompt"
             data-idle-timeout-ms="10000"
             data-idle-choice-selector="#choice-1">
        <source src="{{ clip.video.url }}" type="video/mp4">
        Your browser does not support the video tag.
      </video>
    </div>

    <div id="choices" style="display:none;">
      {% for choice in choices %}
        <button id="choice-{{ forloop.counter }}" class="choice-link"
                hx-get="{% url 'eden:clip_detail' choice.to_clip.slug %}"
                hx-target="#main-content"
                hx-swap="innerHTML">{{ choice.label }}</button>
      {% endfor %}
    </div>

    <!-- News ticker below choice button -->
    <div class="news-ticker-container" id="newsTicker">
      <div class="news-ticker">
        <span>
          BREAKING: Kenya launches Africaâ€™s largest green tech hub! | Nairobi traffic robots now powered by AI! | Kenyan animators win global awards for interactive storytelling!
        </span>
      </div>
    </div>
    <!-- End news ticker -->

  </div>

  <audio id="voicePrompt">
    <source src="{% static 'audio/my name is.mp3' %}" type="audio/mpeg">
  </audio>
{% endblock %}

{% block extra_scripts %}
{% endblock %}